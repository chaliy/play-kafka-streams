plugins {
    id 'application'
    id 'java'
    id 'jvm-test-suite'
}

repositories {
    mavenCentral()
}

dependencies {
    testImplementation 'junit:junit:4.13.2'

    implementation('org.apache.kafka:kafka-streams:3.6.0') {
        exclude group: 'org.apache.kafka', module: 'kafka-clients'
    }
    implementation('org.apache.kafka:kafka-clients:3.6.0')

    implementation('org.slf4j:slf4j-api:2.0.9')
    implementation('org.slf4j:slf4j-simple:2.0.9')
}


application {
    mainClass = 'com.example.App'
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

testing {
    suites { 
        test { 
            useJUnit() 
        }
    }
}

task fakeProducer(type: JavaExec) {
  group = 'application'
  description = 'Pereodically generate something to "my-input-topic" topic'

  classpath sourceSets.main.runtimeClasspath
  main = "com.example.FakeProducerApp"
}